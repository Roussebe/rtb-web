{"ast":null,"code":"import { DELETE_RITUAL, GET_RITUALS, TICK_HABIT, UPDATE_RITUAL_HABIT, UPDATE_RITUAL } from \"../actions/ritual.actions\";\nconst initialState = {};\nexport default function ritualReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_RITUALS:\n      return action.payload;\n\n    case UPDATE_RITUAL_HABIT:\n      {\n        let newState = [...state];\n        let idx = newState.findIndex(s => s._id === action.payload._id);\n        newState[idx] = action.payload;\n        return newState;\n      }\n\n    case TICK_HABIT:\n      {\n        let result = [...state];\n        let rIdx = result.findIndex(r => r._id === action.payload.ritual._id);\n        result[rIdx] = action.payload.ritual;\n        return result;\n      }\n\n    case UPDATE_RITUAL:\n      return state.map(ritual => {\n        if (ritual._id === action.payload.ritualId) {\n          return { ...ritual,\n            message: action.payload.message\n          };\n        } else return ritual;\n      });\n\n    case DELETE_RITUAL:\n      return state.filter(ritual => ritual._id !== action.payload.ritualId);\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/roussebe/dev/WakeUpCoach/client/src/reducers/ritual.reducer.js"],"names":["DELETE_RITUAL","GET_RITUALS","TICK_HABIT","UPDATE_RITUAL_HABIT","UPDATE_RITUAL","initialState","ritualReducer","state","action","type","payload","newState","idx","findIndex","s","_id","result","rIdx","r","ritual","map","ritualId","message","filter"],"mappings":"AAAA,SACEA,aADF,EAEEC,WAFF,EAGEC,UAHF,EAIEC,mBAJF,EAKEC,aALF,QAMO,2BANP;AAQA,MAAMC,YAAY,GAAG,EAArB;AAEA,eAAe,SAASC,aAAT,GAAqD;AAAA,MAA9BC,KAA8B,uEAAtBF,YAAsB;AAAA,MAARG,MAAQ;;AAClE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,WAAL;AACE,aAAOO,MAAM,CAACE,OAAd;;AAEF,SAAKP,mBAAL;AAA0B;AACxB,YAAIQ,QAAQ,GAAG,CAAC,GAAGJ,KAAJ,CAAf;AACA,YAAIK,GAAG,GAAGD,QAAQ,CAACE,SAAT,CAAqBC,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUP,MAAM,CAACE,OAAP,CAAeK,GAApD,CAAV;AACAJ,QAAAA,QAAQ,CAACC,GAAD,CAAR,GAAgBJ,MAAM,CAACE,OAAvB;AACA,eAAOC,QAAP;AACD;;AAED,SAAKT,UAAL;AAAiB;AACf,YAAIc,MAAM,GAAG,CAAC,GAAGT,KAAJ,CAAb;AACA,YAAIU,IAAI,GAAGD,MAAM,CAACH,SAAP,CAAkBK,CAAC,IAAIA,CAAC,CAACH,GAAF,KAAUP,MAAM,CAACE,OAAP,CAAeS,MAAf,CAAsBJ,GAAvD,CAAX;AACAC,QAAAA,MAAM,CAACC,IAAD,CAAN,GAAeT,MAAM,CAACE,OAAP,CAAeS,MAA9B;AACA,eAAOH,MAAP;AACD;;AAGD,SAAKZ,aAAL;AACE,aAAOG,KAAK,CAACa,GAAN,CAAWD,MAAD,IAAY;AAC3B,YAAIA,MAAM,CAACJ,GAAP,KAAeP,MAAM,CAACE,OAAP,CAAeW,QAAlC,EAA4C;AAC1C,iBAAO,EACL,GAAGF,MADE;AAELG,YAAAA,OAAO,EAAEd,MAAM,CAACE,OAAP,CAAeY;AAFnB,WAAP;AAID,SALD,MAKO,OAAOH,MAAP;AACR,OAPM,CAAP;;AAQF,SAAKnB,aAAL;AACE,aAAOO,KAAK,CAACgB,MAAN,CAAcJ,MAAD,IAAYA,MAAM,CAACJ,GAAP,KAAeP,MAAM,CAACE,OAAP,CAAeW,QAAvD,CAAP;;AACF;AACE,aAAOd,KAAP;AA/BJ;AAiCD","sourcesContent":["import {\n  DELETE_RITUAL,\n  GET_RITUALS,\n  TICK_HABIT,\n  UPDATE_RITUAL_HABIT,\n  UPDATE_RITUAL,\n} from \"../actions/ritual.actions\";\n\nconst initialState = {};\n\nexport default function ritualReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_RITUALS:\n      return action.payload;\n\n    case UPDATE_RITUAL_HABIT: {\n      let newState = [...state]\n      let idx = newState.findIndex( (s) => s._id === action.payload._id )\n      newState[idx] = action.payload\n      return newState\n    }\n\n    case TICK_HABIT: {\n      let result = [...state]\n      let rIdx = result.findIndex( r => r._id === action.payload.ritual._id )\n      result[rIdx] = action.payload.ritual\n      return result\n    }\n\n\n    case UPDATE_RITUAL:\n      return state.map((ritual) => {\n        if (ritual._id === action.payload.ritualId) {\n          return {\n            ...ritual,\n            message: action.payload.message,\n          };\n        } else return ritual;\n      });\n    case DELETE_RITUAL:\n      return state.filter((ritual) => ritual._id !== action.payload.ritualId);\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}