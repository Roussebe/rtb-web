{"ast":null,"code":"var _jsxFileName = \"/home/roussebe/dev/WakeUpCoach/client/src/components/Rituals/Ritual.js\",\n    _s = $RefreshSig$();\n\nimport DeleteRitual from \"./DeleteRitual\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dateParser, isEmpty } from \"../Utils\";\nimport { tickHabit } from \"../../actions/ritual.actions\";\nimport WeekDayPicker from \"./WeekDayPicker\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction isHabitAchieved(ritual, habit, day) {\n  if (!day) {\n    const today = new Date();\n    day = today.getMonth() + 1 + \"/\" + today.getDate() + \"/\" + today.getFullYear();\n  }\n\n  let habits = ritual.habits;\n\n  if (ritual.history && ritual.history.habits[day]) {\n    const achievements = ritual.history.habits[day];\n    let dayHabit = achievements.find(a => a.habit == habit._id);\n    if (dayHabit) return true;\n  }\n\n  return false;\n}\n\nconst Ritual = _ref => {\n  _s();\n\n  let {\n    ritual,\n    onAddHabits,\n    onEditRitual\n  } = _ref;\n  const dispatch = useDispatch();\n  const userData = useSelector(state => state.userReducer);\n\n  function validateHabit(ritual, habit) {\n    dispatch(tickHabit(ritual, habit));\n  }\n\n  function showHabit() {}\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"card-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time left\",\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: ritual.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title left\",\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: ritual.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-actions right\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"modal-trigger\",\n            onClick: e => onAddHabits(ritual._id),\n            href: \"#modal-ritual-editor\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-icons black-text\",\n              children: \"edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"modal-trigger\",\n            onClick: e => onEditRitual(ritual._id),\n            href: \"#modal-add-habits-to-ritual\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-icons black-text\",\n              children: \"add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: ritual.habits.map(habit => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"black-text habit-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gh-details\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gh-subtitle\",\n              onClick: e => showHabit(ritual, habit),\n              children: habit.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gh-options\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              onClick: e => validateHabit(ritual, habit),\n              children: isHabitAchieved(ritual, habit) ? /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"green-text far fa-check-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"blue-text far fa-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this)]\n        }, habit._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/_jsxDEV(WeekDayPicker, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Ritual, \"WSVQXsi6+RSfqXX1fZ01MHQUFsY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Ritual;\nexport default Ritual;\n\nvar _c;\n\n$RefreshReg$(_c, \"Ritual\");","map":{"version":3,"sources":["/home/roussebe/dev/WakeUpCoach/client/src/components/Rituals/Ritual.js"],"names":["DeleteRitual","useDispatch","useSelector","dateParser","isEmpty","tickHabit","WeekDayPicker","isHabitAchieved","ritual","habit","day","today","Date","getMonth","getDate","getFullYear","habits","history","achievements","dayHabit","find","a","_id","Ritual","onAddHabits","onEditRitual","dispatch","userData","state","userReducer","validateHabit","showHabit","time","title","e","map"],"mappings":"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","sourcesContent":["import DeleteRitual from \"./DeleteRitual\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dateParser, isEmpty } from \"../Utils\";\nimport { tickHabit } from \"../../actions/ritual.actions\";\nimport WeekDayPicker from \"./WeekDayPicker\";\n\nfunction isHabitAchieved( ritual, habit, day ) {\n  if( !day ) {\n    const today = new Date()\n    day = (today.getMonth()+1) + \"/\" + today.getDate() + \"/\" + (today.getFullYear())\n  }\n\n  let habits = ritual.habits\n\n  if( ritual.history && ritual.history.habits[day] ) {\n    const achievements = ritual.history.habits[day]\n    let dayHabit = achievements.find( a => a.habit == habit._id )\n    if( dayHabit ) return true\n  }\n  return false\n}\n\nconst Ritual = ({ritual, onAddHabits, onEditRitual}) => {\n  const dispatch = useDispatch();\n  const userData = useSelector((state) => state.userReducer);\n\n  function validateHabit(ritual, habit) {\n    dispatch(tickHabit(ritual, habit));\n  }\n\n  function showHabit() {}\n\n  return (\n    <li className=\"card-container\" >\n          <div className=\"card-right\">\n            <div className=\"card-header\">\n              <div className=\"time left\"><h6>{ritual.time}</h6></div>\n              <div className=\"title left\"><h6>{ritual.title}</h6></div>\n              <div className=\"card-actions right\">\n                <a className=\"modal-trigger\" onClick={(e) => onAddHabits(ritual._id)} href=\"#modal-ritual-editor\">\n                  <i className=\"material-icons black-text\">edit</i>\n                </a>\n                <a className=\"modal-trigger\" onClick={(e) => onEditRitual(ritual._id)} href=\"#modal-add-habits-to-ritual\">\n                  <i className=\"material-icons black-text\">add</i>\n                </a>\n              </div>\n            </div>\n            <div className=\"card-body\">\n              {ritual.habits.map( (habit) => (\n                <div className=\"black-text habit-card\" key={habit._id}>\n                  <div className=\"gh-details\">\n                  <div className=\"gh-subtitle\" onClick={(e) => showHabit(ritual, habit)\n                  }>{habit.title}</div>\n                </div>\n                <div className=\"gh-options\"><a onClick={(e) => validateHabit(ritual, habit)} >\n                  {isHabitAchieved( ritual, habit )\n                    ? <i className=\"green-text far fa-check-circle\" />\n                    : <i className=\"blue-text far fa-circle\" />\n                  }\n                </a></div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"card-footer\">\n              <WeekDayPicker />\n            </div>\n          </div>\n    </li>\n  );\n};\n\nexport default Ritual;\n"]},"metadata":{},"sourceType":"module"}