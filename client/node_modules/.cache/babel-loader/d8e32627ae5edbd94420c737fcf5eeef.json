{"ast":null,"code":"import _slicedToArray from\"/home/roussebe/dev/WakeUpCoach/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import GoogleLogin from\"react-google-login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var googleAuthLocalUrl=\"\".concat(process.env.REACT_APP_API_URL,\"/auth/google\");var SignInForm=function SignInForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleLogin=function handleLogin(e){e.preventDefault();var emailError=document.querySelector(\".email.error\");var passwordError=document.querySelector(\".password.error\");axios({method:\"post\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/user/login\"),withCredentials:true,data:{email:email,password:password}}).then(function(res){console.log(res);if(res.data.errors){emailError.innerHTML=res.data.errors.email;passwordError.innerHTML=res.data.errors.password;}else{window.location=\"/\";}}).catch(function(err){console.log(err);});};var responseSuccessGoogle=function responseSuccessGoogle(response){console.log(\"GoogleResponse\");console.log(response);axios({method:\"POST\",url:\"http://localhost:8080/api/googlelogin\",data:{tokenId:response.tokenId}}).then(function(response){console.log(response);});};var responseErrorGoogle=function responseErrorGoogle(response){};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"section\",children:/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"Take good habits all day long\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section\",children:/*#__PURE__*/_jsxs(\"a\",{href:googleAuthLocalUrl,className:\"btn red darken-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-google left\"}),\" Log In With Google\"]})})]});};export default SignInForm;","map":{"version":3,"sources":["/home/roussebe/dev/WakeUpCoach/client/src/components/Log/SignInForm.js"],"names":["React","useState","axios","GoogleLogin","googleAuthLocalUrl","process","env","REACT_APP_API_URL","SignInForm","email","setEmail","password","setPassword","handleLogin","e","preventDefault","emailError","document","querySelector","passwordError","method","url","withCredentials","data","then","res","console","log","errors","innerHTML","window","location","catch","err","responseSuccessGoogle","response","tokenId","responseErrorGoogle"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,oBAAxB,C,6IAGA,GAAMC,CAAAA,kBAAkB,WAAMC,OAAO,CAACC,GAAR,CAAYC,iBAAlB,gBAAxB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAEvB,cAA0BP,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,UAAU,CAAGC,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAnB,CACA,GAAMC,CAAAA,aAAa,CAAGF,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB,CAEAhB,KAAK,CAAC,CACJkB,MAAM,CAAE,MADJ,CAEJC,GAAG,WAAKhB,OAAO,CAACC,GAAR,CAAYC,iBAAjB,kBAFC,CAGJe,eAAe,CAAE,IAHb,CAIJC,IAAI,CAAE,CACJd,KAAK,CAALA,KADI,CAEJE,QAAQ,CAARA,QAFI,CAJF,CAAD,CAAL,CASGa,IATH,CASQ,SAACC,GAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,GAAIA,GAAG,CAACF,IAAJ,CAASK,MAAb,CAAqB,CACnBZ,UAAU,CAACa,SAAX,CAAuBJ,GAAG,CAACF,IAAJ,CAASK,MAAT,CAAgBnB,KAAvC,CACAU,aAAa,CAACU,SAAd,CAA0BJ,GAAG,CAACF,IAAJ,CAASK,MAAT,CAAgBjB,QAA1C,CACD,CAHD,IAGO,CACLmB,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACD,CACF,CAjBH,EAkBGC,KAlBH,CAkBS,SAACC,GAAD,CAAS,CACdP,OAAO,CAACC,GAAR,CAAYM,GAAZ,EACD,CApBH,EAqBD,CA1BD,CA4BA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,QAAD,CAAc,CAC1CT,OAAO,CAACC,GAAR,CAAa,gBAAb,EACAD,OAAO,CAACC,GAAR,CAAYQ,QAAZ,EACAjC,KAAK,CAAC,CACJkB,MAAM,CAAE,MADJ,CAEJC,GAAG,CAAE,uCAFD,CAGJE,IAAI,CAAE,CAACa,OAAO,CAAED,QAAQ,CAACC,OAAnB,CAHF,CAAD,CAAL,CAIGZ,IAJH,CAIS,SAAAW,QAAQ,CAAK,CACpBT,OAAO,CAACC,GAAR,CAAaQ,QAAb,EACD,CAND,EAOD,CAVD,CAYA,GAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACF,QAAD,CAAc,CAEzC,CAFD,CAIA,mBACE,wCACA,YAAK,SAAS,CAAC,SAAf,uBACI,UAAG,SAAS,CAAC,MAAb,2CADJ,EADA,cAIA,YAAK,SAAS,CAAC,SAAf,EAJA,cAKA,YAAK,SAAS,CAAC,SAAf,uBASI,WAAG,IAAI,CAAE/B,kBAAT,CAA6B,SAAS,CAAC,kBAAvC,wBACI,UAAG,SAAS,CAAC,oBAAb,EADJ,yBATJ,EALA,GADF,CAqBD,CAtED,CAwEA,cAAeI,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport GoogleLogin from \"react-google-login\"\n\n\nconst googleAuthLocalUrl = `${process.env.REACT_APP_API_URL}/auth/google`\n\nconst SignInForm = () => {\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    const emailError = document.querySelector(\".email.error\");\n    const passwordError = document.querySelector(\".password.error\");\n\n    axios({\n      method: \"post\",\n      url: `${process.env.REACT_APP_API_URL}api/user/login`,\n      withCredentials: true,\n      data: {\n        email,\n        password,\n      },\n    })\n      .then((res) => {\n        console.log(res);\n        if (res.data.errors) {\n          emailError.innerHTML = res.data.errors.email;\n          passwordError.innerHTML = res.data.errors.password;\n        } else {\n          window.location = \"/\";\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const responseSuccessGoogle = (response) => {\n    console.log( \"GoogleResponse\" )\n    console.log(response)\n    axios({\n      method: \"POST\",\n      url: \"http://localhost:8080/api/googlelogin\",\n      data: {tokenId: response.tokenId}\n    }).then( response  => {\n      console.log( response )\n    })\n  }\n\n  const responseErrorGoogle = (response) => {\n\n  }\n\n  return (\n    <>\n    <div className=\"section\">\n        <p className=\"lead\">Take good habits all day long</p>\n    </div>\n    <div className=\"divider\"></div>\n    <div className=\"section\">\n      {/*<GoogleLogin\n        clientId=\"1094692903229-ji3ffqddf1hm8puv2eui5irmu9acc091.apps.googleusercontent.com\"\n        buttonText=\"Login with Google\"\n        onSuccess={responseSuccessGoogle}\n        onFailure={responseErrorGoogle}\n        cookiePolicy={'single_host_origin'}\n        />*/}\n\n        <a href={googleAuthLocalUrl} className=\"btn red darken-1\">\n            <i className=\"fab fa-google left\"></i> Log In With Google\n        </a>\n    </div>\n    </>\n  );\n};\n\nexport default SignInForm;\n"]},"metadata":{},"sourceType":"module"}