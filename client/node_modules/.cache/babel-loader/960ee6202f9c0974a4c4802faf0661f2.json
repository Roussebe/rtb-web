{"ast":null,"code":"import DeleteRitual from\"./DeleteRitual\";import{useDispatch,useSelector}from\"react-redux\";import{dateParser,isEmpty}from\"../Utils\";import{tickHabit}from\"../../actions/ritual.actions\";import WeekDayPicker from\"./WeekDayPicker\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function isHabitAchieved(ritual,habit,day){if(!day){var today=new Date();day=today.getMonth()+1+\"/\"+today.getDate()+\"/\"+today.getFullYear();}var habits=ritual.habits;if(ritual.history&&ritual.history.habits[day]){var achievements=ritual.history.habits[day];var dayHabit=achievements.find(function(a){return a.habit==habit._id;});if(dayHabit)return true;}return false;}var Ritual=function Ritual(_ref){var ritual=_ref.ritual,onAddHabits=_ref.onAddHabits,onEditRitual=_ref.onEditRitual;var dispatch=useDispatch();var userData=useSelector(function(state){return state.userReducer;});function validateHabit(ritual,habit){dispatch(tickHabit(ritual,habit));}function showHabit(){}return/*#__PURE__*/_jsx(\"li\",{className:\"card-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"time left\",children:/*#__PURE__*/_jsx(\"h6\",{children:ritual.time})}),/*#__PURE__*/_jsx(\"div\",{className:\"title left\",children:/*#__PURE__*/_jsx(\"h6\",{children:ritual.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-actions right\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"modal-trigger\",href:\"#modal-ritual-editor\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons black-text\",children:\"edit\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"modal-trigger\",onClick:function onClick(e){return onAddHabits(ritual._id);},href:\"#modal-add-habits-to-ritual\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons black-text\",children:\"add\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:ritual.habits.map(function(habit){return/*#__PURE__*/_jsxs(\"div\",{className:\"black-text habit-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gh-details\",children:/*#__PURE__*/_jsx(\"div\",{className:\"gh-subtitle\",onClick:function onClick(e){return showHabit(ritual,habit);},children:habit.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"gh-options\",children:/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(e){return validateHabit(ritual,habit);},children:isHabitAchieved(ritual,habit)?/*#__PURE__*/_jsx(\"i\",{className:\"green-text far fa-check-circle\"}):/*#__PURE__*/_jsx(\"i\",{className:\"blue-text far fa-circle\"})})})]},habit._id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(WeekDayPicker,{})})]})});};export default Ritual;","map":{"version":3,"sources":["/home/roussebe/dev/WakeUpCoach/client/src/components/Rituals/Ritual.js"],"names":["DeleteRitual","useDispatch","useSelector","dateParser","isEmpty","tickHabit","WeekDayPicker","isHabitAchieved","ritual","habit","day","today","Date","getMonth","getDate","getFullYear","habits","history","achievements","dayHabit","find","a","_id","Ritual","onAddHabits","onEditRitual","dispatch","userData","state","userReducer","validateHabit","showHabit","time","title","e","map"],"mappings":"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","sourcesContent":["import DeleteRitual from \"./DeleteRitual\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dateParser, isEmpty } from \"../Utils\";\nimport { tickHabit } from \"../../actions/ritual.actions\";\nimport WeekDayPicker from \"./WeekDayPicker\";\n\nfunction isHabitAchieved( ritual, habit, day ) {\n  if( !day ) {\n    const today = new Date()\n    day = (today.getMonth()+1) + \"/\" + today.getDate() + \"/\" + (today.getFullYear())\n  }\n\n  let habits = ritual.habits\n\n  if( ritual.history && ritual.history.habits[day] ) {\n    const achievements = ritual.history.habits[day]\n    let dayHabit = achievements.find( a => a.habit == habit._id )\n    if( dayHabit ) return true\n  }\n  return false\n}\n\nconst Ritual = ({ritual, onAddHabits, onEditRitual}) => {\n  const dispatch = useDispatch();\n  const userData = useSelector((state) => state.userReducer);\n\n  function validateHabit(ritual, habit) {\n    dispatch(tickHabit(ritual, habit));\n  }\n\n  function showHabit() {}\n\n  return (\n    <li className=\"card-container\" >\n          <div className=\"card-right\">\n            <div className=\"card-header\">\n              <div className=\"time left\"><h6>{ritual.time}</h6></div>\n              <div className=\"title left\"><h6>{ritual.title}</h6></div>\n              <div className=\"card-actions right\">\n                <a className=\"modal-trigger\" href=\"#modal-ritual-editor\">\n                  <i className=\"material-icons black-text\">edit</i>\n                </a>\n                <a className=\"modal-trigger\" onClick={(e) => onAddHabits(ritual._id)} href=\"#modal-add-habits-to-ritual\" >\n                  <i className=\"material-icons black-text\">add</i>\n                </a>\n              </div>\n            </div>\n            <div className=\"card-body\">\n              {ritual.habits.map( (habit) => (\n                <div className=\"black-text habit-card\" key={habit._id}>\n                  <div className=\"gh-details\">\n                  <div className=\"gh-subtitle\" onClick={(e) => showHabit(ritual, habit)\n                  }>{habit.title}</div>\n                </div>\n                <div className=\"gh-options\"><a onClick={(e) => validateHabit(ritual, habit)} >\n                  {isHabitAchieved( ritual, habit )\n                    ? <i className=\"green-text far fa-check-circle\" />\n                    : <i className=\"blue-text far fa-circle\" />\n                  }\n                </a></div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"card-footer\">\n              <WeekDayPicker />\n            </div>\n          </div>\n    </li>\n  );\n};\n\nexport default Ritual;\n"]},"metadata":{},"sourceType":"module"}