{"ast":null,"code":"import _objectSpread from\"/home/roussebe/dev/WakeUpCoach/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/roussebe/dev/WakeUpCoach/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{DELETE_RITUAL,GET_RITUALS,TICK_HABIT,UPDATE_RITUAL_HABIT,UPDATE_RITUAL}from\"../actions/ritual.actions\";var initialState={};export default function ritualReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_RITUALS:return action.payload;case UPDATE_RITUAL_HABIT:{var newState=_toConsumableArray(state);var idx=newState.findIndex(function(s){return s._id===action.payload._id;});newState[idx]=action.payload;return newState;}case TICK_HABIT:{var result=_toConsumableArray(state);var rIdx=result.findIndex(function(r){return r._id===action.payload.ritual._id;});result[rIdx]=action.payload.ritual;return result;}case UPDATE_RITUAL:return state.map(function(ritual){if(ritual._id===action.payload.ritualId){return _objectSpread(_objectSpread({},ritual),{},{message:action.payload.message});}else return ritual;});case DELETE_RITUAL:return state.filter(function(ritual){return ritual._id!==action.payload.ritualId;});default:return state;}}","map":{"version":3,"sources":["/home/roussebe/dev/WakeUpCoach/client/src/reducers/ritual.reducer.js"],"names":["DELETE_RITUAL","GET_RITUALS","TICK_HABIT","UPDATE_RITUAL_HABIT","UPDATE_RITUAL","initialState","ritualReducer","state","action","type","payload","newState","idx","findIndex","s","_id","result","rIdx","r","ritual","map","ritualId","message","filter"],"mappings":"6PAAA,OACEA,aADF,CAEEC,WAFF,CAGEC,UAHF,CAIEC,mBAJF,CAKEC,aALF,KAMO,2BANP,CAQA,GAAMC,CAAAA,YAAY,CAAG,EAArB,CAEA,cAAe,SAASC,CAAAA,aAAT,EAAqD,IAA9BC,CAAAA,KAA8B,2DAAtBF,YAAsB,IAARG,CAAAA,MAAQ,2CAClE,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKR,CAAAA,WAAL,CACE,MAAOO,CAAAA,MAAM,CAACE,OAAd,CAEF,IAAKP,CAAAA,mBAAL,CAA0B,CACxB,GAAIQ,CAAAA,QAAQ,oBAAOJ,KAAP,CAAZ,CACA,GAAIK,CAAAA,GAAG,CAAGD,QAAQ,CAACE,SAAT,CAAoB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,GAAF,GAAUP,MAAM,CAACE,OAAP,CAAeK,GAAhC,EAApB,CAAV,CACAJ,QAAQ,CAACC,GAAD,CAAR,CAAgBJ,MAAM,CAACE,OAAvB,CACA,MAAOC,CAAAA,QAAP,CACD,CAED,IAAKT,CAAAA,UAAL,CAAiB,CACf,GAAIc,CAAAA,MAAM,oBAAOT,KAAP,CAAV,CACA,GAAIU,CAAAA,IAAI,CAAGD,MAAM,CAACH,SAAP,CAAkB,SAAAK,CAAC,QAAIA,CAAAA,CAAC,CAACH,GAAF,GAAUP,MAAM,CAACE,OAAP,CAAeS,MAAf,CAAsBJ,GAApC,EAAnB,CAAX,CACAC,MAAM,CAACC,IAAD,CAAN,CAAeT,MAAM,CAACE,OAAP,CAAeS,MAA9B,CACA,MAAOH,CAAAA,MAAP,CACD,CAGD,IAAKZ,CAAAA,aAAL,CACE,MAAOG,CAAAA,KAAK,CAACa,GAAN,CAAU,SAACD,MAAD,CAAY,CAC3B,GAAIA,MAAM,CAACJ,GAAP,GAAeP,MAAM,CAACE,OAAP,CAAeW,QAAlC,CAA4C,CAC1C,sCACKF,MADL,MAEEG,OAAO,CAAEd,MAAM,CAACE,OAAP,CAAeY,OAF1B,GAID,CALD,IAKO,OAAOH,CAAAA,MAAP,CACR,CAPM,CAAP,CAQF,IAAKnB,CAAAA,aAAL,CACE,MAAOO,CAAAA,KAAK,CAACgB,MAAN,CAAa,SAACJ,MAAD,QAAYA,CAAAA,MAAM,CAACJ,GAAP,GAAeP,MAAM,CAACE,OAAP,CAAeW,QAA1C,EAAb,CAAP,CACF,QACE,MAAOd,CAAAA,KAAP,CA/BJ,CAiCD","sourcesContent":["import {\n  DELETE_RITUAL,\n  GET_RITUALS,\n  TICK_HABIT,\n  UPDATE_RITUAL_HABIT,\n  UPDATE_RITUAL,\n} from \"../actions/ritual.actions\";\n\nconst initialState = {};\n\nexport default function ritualReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_RITUALS:\n      return action.payload;\n\n    case UPDATE_RITUAL_HABIT: {\n      let newState = [...state]\n      let idx = newState.findIndex( (s) => s._id === action.payload._id )\n      newState[idx] = action.payload\n      return newState\n    }\n\n    case TICK_HABIT: {\n      let result = [...state]\n      let rIdx = result.findIndex( r => r._id === action.payload.ritual._id )\n      result[rIdx] = action.payload.ritual\n      return result\n    }\n\n\n    case UPDATE_RITUAL:\n      return state.map((ritual) => {\n        if (ritual._id === action.payload.ritualId) {\n          return {\n            ...ritual,\n            message: action.payload.message,\n          };\n        } else return ritual;\n      });\n    case DELETE_RITUAL:\n      return state.filter((ritual) => ritual._id !== action.payload.ritualId);\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}